---
title: "Programming for Data Science"
author: "Mathews Abraham"
date: "2024-05-28"
output: word_document
---

**Question 1.Write the code to analyse the distribution of COVID patients (confirmed or suspected) across countries. Write the code to investigate the distribution of the patients across age groups (e.g., 0-18, 19-35,36-50, 51+). Visualise both the findings using the histogram. Explain your findings.**

```{r}
library(ggplot2)
library(dplyr)

patients1 = read.csv("patientsPG1.csv")
patients2 = read.csv("patientsPG2.csv")
patients = rbind(patients1,patients2)
```
```{r}
conditions1 = read.csv("ConditionsPG1.csv")
conditions2 = read.csv("ConditionsPG2.csv")
condition = rbind(conditions1,conditions2)
conditions = subset(condition, DESCRIPTION %in% c("Suspected COVID-19","COVID-19"), drop = TRUE)
```

Here we have four datasets, two of the contain patient demographic data and others contain infomation about patient conditions. First, we read all the data using the 'read.csv' function in R, we used this function because the data is in a csv format. Then the datasets having the same varible names were combined into a single dataset, these datasets were named as patients and conditions. 

Here we are analysing the distribution of covid patients across the counties, the patients data has infomation about the counties and the conditions have the description of the diagnosis. Since there were other information under the 'DESCRIPTION' variable but we are only interseted if the patients have suspected covid or not, we filtered the dataset with the description of diagnosis either covide-19 or not.

```{r}
county = subset(patients, select = c("Id","COUNTY"))
description = subset(conditions, select = c("PATIENT","DESCRIPTION"))
merged = merge(county,description, by.x = "Id",by.y = "PATIENT", all = FALSE)
head(merged,5)
```

Further, more filteration was carried out to make the dataset more specific, the varibales which are relevant in both the datasets were filtered and merged in a manner with the same ids. The Ids which were present in both the dataset was selected with their respective county names and had covid-19 or just suspection. 

```{r}
covid = subset(merged, DESCRIPTION == "COVID-19", drop = TRUE)
s_covid = unique(merged$Id[!(merged$Id %in% covid$Id)])
s_covid = merged[!(merged$Id %in% covid$Id),]
final = rbind(covid,s_covid)
Q1 = subset(final,select = c("COUNTY","DESCRIPTION"))
head(Q1,5)
```


```{r}
Q1_table  = table(Q1)
Q1_table
Q1_table = rowSums(Q1_table)

barplot(Q1_table)
```

```{r}
hist(Q1_table)
```

